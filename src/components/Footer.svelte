<script lang="ts">
	import { getContext } from 'svelte';
	import type { AppState } from '~/lib/shared/types';
	import C from '~/components';

	const app = getContext<AppState>('app');
</script>

<footer>
	<div class="container">
		<div class="top">
			<div class="left">
				<C.Logo />
				<p class="desc">The number one tool to find, create and share the current best armies in the game!</p>
				<ul class="social-links">
					<li>
						<a href="https://discord.gg/Tsv4hDcdeW" target="_blank">
							<svg width="21" height="16" viewBox="0 0 21 16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="Discord icon">
								<path
									d="M17.7635 1.3297C16.4339 0.70986 14.9942 0.259978 13.4946 4.59862e-05C13.4815 -0.000374507 13.4684 0.00209293 13.4563 0.00727485C13.4442 0.0124568 13.4334 0.0202273 13.4247 0.0300383C13.2447 0.359952 13.0348 0.789839 12.8948 1.11975C11.3042 0.879816 9.68663 0.879816 8.09605 1.11975C7.95608 0.779842 7.74614 0.359952 7.55619 0.0300383C7.54619 0.0100436 7.5162 4.59862e-05 7.4862 4.59862e-05C5.9866 0.259978 4.55697 0.70986 3.21732 1.3297C3.20732 1.3297 3.19733 1.3397 3.18733 1.34969C0.468042 5.41863 -0.281762 9.37759 0.088141 13.2966C0.088141 13.3166 0.0981384 13.3366 0.118133 13.3466C1.91766 14.6662 3.64721 15.466 5.35676 15.9959C5.38675 16.0059 5.41675 15.9959 5.42674 15.9759C5.82664 15.426 6.18654 14.8462 6.49646 14.2363C6.51646 14.1963 6.49646 14.1563 6.45647 14.1463C5.88662 13.9264 5.34677 13.6665 4.8169 13.3665C4.77691 13.3466 4.77691 13.2866 4.80691 13.2566C4.91688 13.1766 5.02685 13.0866 5.13682 13.0066C5.15681 12.9866 5.18681 12.9866 5.2068 12.9966C8.6459 14.5662 12.3549 14.5662 15.754 12.9966C15.774 12.9866 15.804 12.9866 15.824 13.0066C15.934 13.0966 16.044 13.1766 16.1539 13.2666C16.1939 13.2966 16.1939 13.3565 16.1439 13.3765C15.6241 13.6865 15.0742 13.9364 14.5044 14.1563C14.4644 14.1663 14.4544 14.2163 14.4644 14.2463C14.7843 14.8562 15.1442 15.436 15.5341 15.9859C15.5641 15.9959 15.5941 16.0059 15.6241 15.9959C17.3436 15.466 19.0732 14.6662 20.8727 13.3466C20.8927 13.3366 20.9027 13.3166 20.9027 13.2966C21.3426 8.76775 20.1729 4.83878 17.8035 1.34969C17.7935 1.3397 17.7835 1.3297 17.7635 1.3297ZM7.01633 10.9072C5.9866 10.9072 5.12682 9.95744 5.12682 8.78775C5.12682 7.61805 5.9666 6.6683 7.01633 6.6683C8.07605 6.6683 8.91583 7.62805 8.90583 8.78775C8.90583 9.95744 8.06605 10.9072 7.01633 10.9072ZM13.9845 10.9072C12.9548 10.9072 12.095 9.95744 12.095 8.78775C12.095 7.61805 12.9348 6.6683 13.9845 6.6683C15.0442 6.6683 15.884 7.62805 15.874 8.78775C15.874 9.95744 15.0442 10.9072 13.9845 10.9072Z"
									fill="white"
								/>
							</svg>
						</a>
					</li>
					<li>
						<a href="https://x.com/clasharmiesdev" target="_blank">
							<svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="Twitter/X icon">
								<path
									d="M13.8974 0H16.6052L10.6908 6.77738L17.6491 16H12.2014L7.93434 10.4055L3.05158 16H0.342617L6.66869 8.75035L-0.006073 0H5.58069L9.43724 5.11228L13.8974 0ZM12.9484 14.3757H14.4491L4.76413 1.53931H3.15531L12.9484 14.3757Z"
									fill="white"
								/>
							</svg>
						</a>
					</li>
					<li>
						<a href="https://www.reddit.com/user/clasharmiesdev" target="_blank">
							<svg width="18" height="17" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="Reddit icon">
								<path
									d="M7.64911 8.832C7.64911 8.376 7.27311 8 6.81711 8C6.36111 8 5.98511 8.376 5.98511 8.832C5.98511 9.05266 6.07276 9.26428 6.22879 9.42031C6.38483 9.57634 6.59645 9.664 6.81711 9.664C7.03777 9.664 7.24939 9.57634 7.40542 9.42031C7.56145 9.26428 7.64911 9.05266 7.64911 8.832ZM10.3211 10.728C9.96111 11.088 9.19311 11.216 8.64911 11.216C8.10511 11.216 7.33711 11.088 6.97711 10.728C6.95765 10.7072 6.93411 10.6906 6.90797 10.6792C6.88182 10.6678 6.85361 10.662 6.82511 10.662C6.7966 10.662 6.7684 10.6678 6.74225 10.6792C6.7161 10.6906 6.69257 10.7072 6.67311 10.728C6.65227 10.7475 6.63567 10.771 6.62431 10.7971C6.61295 10.8233 6.60709 10.8515 6.60709 10.88C6.60709 10.9085 6.61295 10.9367 6.62431 10.9629C6.63567 10.989 6.65227 11.0125 6.67311 11.032C7.24111 11.6 8.32911 11.648 8.64911 11.648C8.96911 11.648 10.0571 11.6 10.6251 11.032C10.6459 11.0125 10.6625 10.989 10.6739 10.9629C10.6853 10.9367 10.6911 10.9085 10.6911 10.88C10.6911 10.8515 10.6853 10.8233 10.6739 10.7971C10.6625 10.771 10.6459 10.7475 10.6251 10.728C10.5451 10.648 10.4091 10.648 10.3211 10.728ZM10.4811 8C10.0251 8 9.64911 8.376 9.64911 8.832C9.64911 9.288 10.0251 9.664 10.4811 9.664C10.9371 9.664 11.3131 9.288 11.3131 8.832C11.3131 8.376 10.9451 8 10.4811 8Z"
									fill="white"
								/>
								<path
									d="M8.64911 0C4.23311 0 0.649109 3.584 0.649109 8C0.649109 12.416 4.23311 16 8.64911 16C13.0651 16 16.6491 12.416 16.6491 8C16.6491 3.584 13.0651 0 8.64911 0ZM13.2891 9.064C13.3051 9.176 13.3131 9.296 13.3131 9.416C13.3131 11.208 11.2251 12.664 8.64911 12.664C6.07311 12.664 3.98511 11.208 3.98511 9.416C3.98511 9.296 3.99311 9.176 4.00911 9.064C3.60111 8.88 3.32111 8.472 3.32111 8C3.31992 7.7706 3.38655 7.54596 3.51262 7.3543C3.6387 7.16264 3.81859 7.01251 4.02971 6.92276C4.24084 6.83301 4.47377 6.80765 4.69926 6.84985C4.92475 6.89206 5.13274 6.99996 5.29711 7.16C6.10511 6.576 7.22511 6.208 8.46511 6.168L9.05711 3.376C9.06511 3.32 9.09711 3.272 9.14511 3.248C9.19311 3.216 9.24911 3.208 9.30511 3.216L11.2411 3.632C11.3068 3.49886 11.4069 3.38572 11.531 3.3043C11.6551 3.22288 11.7988 3.17616 11.947 3.16898C12.0953 3.16179 12.2428 3.19441 12.3742 3.26345C12.5056 3.33248 12.6162 3.43542 12.6944 3.56159C12.7726 3.68775 12.8157 3.83255 12.8191 3.98096C12.8225 4.12937 12.7861 4.27598 12.7137 4.4056C12.6414 4.53521 12.5356 4.6431 12.4075 4.71808C12.2794 4.79306 12.1336 4.83239 11.9851 4.832C11.5371 4.832 11.1771 4.48 11.1531 4.04L9.41711 3.672L8.88911 6.168C10.1131 6.208 11.2091 6.584 12.0091 7.16C12.1317 7.04289 12.2785 6.95399 12.4391 6.89952C12.5997 6.84505 12.7702 6.82632 12.9388 6.84465C13.1074 6.86298 13.2699 6.91792 13.415 7.00563C13.5602 7.09333 13.6844 7.21169 13.779 7.35242C13.8736 7.49315 13.9363 7.65285 13.9627 7.82035C13.9892 7.98784 13.9787 8.1591 13.932 8.32212C13.8854 8.48515 13.8037 8.63601 13.6926 8.76416C13.5816 8.8923 13.4438 8.99464 13.2891 9.064Z"
									fill="white"
								/>
							</svg>
						</a>
					</li>
				</ul>
				<p class="copyright">Copyright © {new Date().getFullYear()} | All Rights Reserved</p>
			</div>
			<div class="col quick-links">
				<h3>Quick Links</h3>
				<ul>
					<li>
						<a href="/">Home</a>
					</li>
					<li>
						<a href="/armies">Armies</a>
					</li>
					{#if app.user}
						<li>
							<a href="/create">Create</a>
						</li>
					{/if}
					{#if app.user && app.user.hasRoles('admin')}
						<li>
							<a href="/admin">Admin</a>
						</li>
					{/if}
					{#if app.user}
						<li>
							<a href="/users/{app.user.username}">Account</a>
						</li>
					{/if}
				</ul>
			</div>
			<div class="col">
				<h3>Development</h3>
				<ul>
					<li>
						<a href="/changelog">Changelog</a>
					</li>
					<li>
						<a href="/roadmap">Roadmap</a>
					</li>
				</ul>
			</div>
			<div class="col">
				<h3>Support</h3>
				<ul>
					<li>
						<a href="mailto:support@clasharmies.com" target="_blank">
							<svg width="17" height="12" viewBox="0 0 17 12" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="Email icon">
								<path
									d="M17.01 10.5V1.5C17.01 0.67 16.34 0 15.51 0H1.5C0.67 0 0 0.67 0 1.5V10.5C0 11.33 0.67 12 1.5 12H15.51C16.34 12 17.01 11.33 17.01 10.5ZM15.7 1.39C16.03 1.72 15.85 2.06 15.67 2.23L11.61 5.95L15.51 10.01C15.63 10.15 15.71 10.37 15.57 10.52C15.44 10.68 15.14 10.67 15.01 10.57L10.64 6.84L8.5 8.79L6.37 6.84L2 10.57C1.87 10.67 1.57 10.68 1.44 10.52C1.3 10.37 1.38 10.15 1.5 10.01L5.4 5.95L1.34 2.23C1.16 2.06 0.98 1.72 1.31 1.39C1.64 1.06 1.98 1.22 2.26 1.46L8.5 6.5L14.75 1.46C15.03 1.22 15.37 1.06 15.7 1.39Z"
									fill="white"
								/>
							</svg>
							support@clasharmies.com
						</a>
					</li>
					<li>
						<a href="https://discord.gg/Tsv4hDcdeW" target="_blank">
							<svg width="18.37" height="14" viewBox="0 0 21 16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="Discord icon">
								<path
									d="M17.7635 1.3297C16.4339 0.70986 14.9942 0.259978 13.4946 4.59862e-05C13.4815 -0.000374507 13.4684 0.00209293 13.4563 0.00727485C13.4442 0.0124568 13.4334 0.0202273 13.4247 0.0300383C13.2447 0.359952 13.0348 0.789839 12.8948 1.11975C11.3042 0.879816 9.68663 0.879816 8.09605 1.11975C7.95608 0.779842 7.74614 0.359952 7.55619 0.0300383C7.54619 0.0100436 7.5162 4.59862e-05 7.4862 4.59862e-05C5.9866 0.259978 4.55697 0.70986 3.21732 1.3297C3.20732 1.3297 3.19733 1.3397 3.18733 1.34969C0.468042 5.41863 -0.281762 9.37759 0.088141 13.2966C0.088141 13.3166 0.0981384 13.3366 0.118133 13.3466C1.91766 14.6662 3.64721 15.466 5.35676 15.9959C5.38675 16.0059 5.41675 15.9959 5.42674 15.9759C5.82664 15.426 6.18654 14.8462 6.49646 14.2363C6.51646 14.1963 6.49646 14.1563 6.45647 14.1463C5.88662 13.9264 5.34677 13.6665 4.8169 13.3665C4.77691 13.3466 4.77691 13.2866 4.80691 13.2566C4.91688 13.1766 5.02685 13.0866 5.13682 13.0066C5.15681 12.9866 5.18681 12.9866 5.2068 12.9966C8.6459 14.5662 12.3549 14.5662 15.754 12.9966C15.774 12.9866 15.804 12.9866 15.824 13.0066C15.934 13.0966 16.044 13.1766 16.1539 13.2666C16.1939 13.2966 16.1939 13.3565 16.1439 13.3765C15.6241 13.6865 15.0742 13.9364 14.5044 14.1563C14.4644 14.1663 14.4544 14.2163 14.4644 14.2463C14.7843 14.8562 15.1442 15.436 15.5341 15.9859C15.5641 15.9959 15.5941 16.0059 15.6241 15.9959C17.3436 15.466 19.0732 14.6662 20.8727 13.3466C20.8927 13.3366 20.9027 13.3166 20.9027 13.2966C21.3426 8.76775 20.1729 4.83878 17.8035 1.34969C17.7935 1.3397 17.7835 1.3297 17.7635 1.3297ZM7.01633 10.9072C5.9866 10.9072 5.12682 9.95744 5.12682 8.78775C5.12682 7.61805 5.9666 6.6683 7.01633 6.6683C8.07605 6.6683 8.91583 7.62805 8.90583 8.78775C8.90583 9.95744 8.06605 10.9072 7.01633 10.9072ZM13.9845 10.9072C12.9548 10.9072 12.095 9.95744 12.095 8.78775C12.095 7.61805 12.9348 6.6683 13.9845 6.6683C15.0442 6.6683 15.884 7.62805 15.874 8.78775C15.874 9.95744 15.0442 10.9072 13.9845 10.9072Z"
									fill="white"
								/>
							</svg>
							discord server
						</a>
					</li>
				</ul>
			</div>
		</div>
		<small>
			This content is not affiliated with, endorsed, sponsored, or specifically approved by Supercell and Supercell is not responsible for it. For more
			information see <a href="https://supercell.com/en/fan-content-policy/" target="_blank">Supercell’s Fan Content Policy</a>.
			<span class="copyright">
				<br />Copyright © {new Date().getFullYear()} | All Rights Reserved
			</span>
		</small>
	</div>
</footer>

<style>
	/* Footer */
	footer {
		background-color: var(--grey-800);
		padding: 0 var(--side-padding);
	}
	.top {
		display: flex;
		flex-flow: row wrap;
		align-items: flex-start;
		padding: 48px 0 32px 0;
		border-bottom: 1px solid var(--grey-600);
		gap: 2.5em;
	}
	.left {
		flex: 1 0 0px;
	}
	p,
	a,
	small {
		font-size: var(--fs-sm);
		line-height: var(--fs-sm-lh);
		color: var(--grey-400);
	}
	.desc {
		margin: 8px 0 16px 0;
		max-width: 345px;
	}
	small {
		display: block;
		margin: 0 auto;
		text-align: center;
		max-width: 800px;
		padding: 24px 0;
	}
	small a {
		font-weight: 500;
		color: var(--primary-400);
	}
	.social-links {
		display: flex;
		align-items: center;
		gap: 10px;
		margin-bottom: 48px;
	}
	.social-links a {
		display: flex;
		align-items: center;
		padding: 1px;
	}
	a {
		transition: color 0.15s ease-in-out;
	}
	a path {
		transition: fill 0.15s ease-in-out;
		fill: var(--grey-100);
	}
	a:focus,
	a:active {
		outline: var(--primary-400) dotted 1px;
	}
	a:hover path {
		fill: var(--primary-400);
	}
	.col h3 {
		white-space: nowrap;
		margin-bottom: 16px;
	}
	.col ul {
		display: flex;
		flex-flow: column nowrap;
		gap: 8px;
	}
	.col a {
		display: inline-flex;
		align-items: center;
		color: var(--grey-400);
		font-weight: 500;
		gap: 8px;
	}
	.col a path {
		fill: var(--grey-400);
	}
	.col a:hover {
		color: var(--grey-100);
	}
	.col a:hover path {
		fill: var(--grey-100);
	}
	.col.quick-links ul {
		display: grid;
		grid-template-columns: repeat(3, 1fr);
	}

	small .copyright {
		display: none;
	}

	@media (max-width: 625px) {
		.top .copyright {
			display: none;
		}

		small .copyright {
			display: block;
		}

		.social-links {
			margin-bottom: 0;
		}
	}

	@media (max-width: 450px) {
		.top {
			flex-flow: column wrap;
			padding: 32px 0;
			gap: 1.5em;
		}
	}
</style>
